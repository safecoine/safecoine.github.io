<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ø¨Ø§Ø²ÛŒ Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø³Ø§Ø¯Ù‡</title>
<style>
  body {
    font-family: Vazir, sans-serif;
    background: linear-gradient(135deg, #f8f9fa, #d1d8e0);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    margin: 0;
  }
  h1 {
    margin-bottom: 20px;
    color: #222;
  }
  .players {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 30px;
    width: 100%;
    max-width: 600px;
  }
  .player {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 10px #aaa4;
    padding: 20px;
    width: 250px;
    text-align: center;
  }
  .player h2 {
    margin-bottom: 15px;
    color: #333;
  }
  .health-bar {
    background: #ddd;
    border-radius: 15px;
    overflow: hidden;
    height: 25px;
    margin-bottom: 15px;
  }
  .health-bar-inner {
    height: 100%;
    background: linear-gradient(90deg, #ff3b3b, #d62828);
    width: 100%;
    transition: width 0.3s ease;
  }
  #message {
    font-size: 24px;
    font-weight: 700;
    color: #005f73;
    margin-bottom: 20px;
    min-height: 30px;
    min-width: 300px;
    text-align: center;
  }
  button {
    padding: 12px 25px;
    font-size: 18px;
    font-weight: 700;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    background: #0a9396;
    color: white;
    transition: background-color 0.3s ease;
  }
  button:disabled {
    background: #94a1b2;
    cursor: not-allowed;
  }
  button:hover:not(:disabled) {
    background: #005f73;
  }
</style>
</head>
<body>

<h1>Ø¨Ø§Ø²ÛŒ Ù…Ø¨Ø§Ø±Ø²Ù‡ Ø³Ø§Ø¯Ù‡</h1>

<div class="players">
  <div class="player" id="player">
    <h2>Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÙˆ</h2>
    <div class="health-bar"><div class="health-bar-inner" id="playerHealth"></div></div>
    <div id="playerHPText">100 / 100</div>
  </div>
  <div class="player" id="computer">
    <h2>Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ±</h2>
    <div class="health-bar"><div class="health-bar-inner" id="computerHealth"></div></div>
    <div id="computerHPText">100 / 100</div>
  </div>
</div>

<div id="message"></div>

<button id="attackBtn">Ø­Ù…Ù„Ù‡ Ú©Ù†</button>
<button id="restartBtn" style="display:none;">Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡</button>

<script>
  const playerMaxHP = 100;
  const computerMaxHP = 100;
  let playerHP = playerMaxHP;
  let computerHP = computerMaxHP;
  const damage = 10;

  const playerHealthBar = document.getElementById('playerHealth');
  const computerHealthBar = document.getElementById('computerHealth');
  const playerHPText = document.getElementById('playerHPText');
  const computerHPText = document.getElementById('computerHPText');
  const message = document.getElementById('message');
  const attackBtn = document.getElementById('attackBtn');
  const restartBtn = document.getElementById('restartBtn');

  function updateHealth() {
    playerHealthBar.style.width = (playerHP / playerMaxHP * 100) + '%';
    playerHPText.textContent = `${playerHP} / ${playerMaxHP}`;

    computerHealthBar.style.width = (computerHP / computerMaxHP * 100) + '%';
    computerHPText.textContent = `${computerHP} / ${computerMaxHP}`;
  }

  function checkGameOver() {
    if (playerHP <= 0) {
      playerHP = 0;
      message.textContent = "Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯ÛŒ! Ø¨Ø§Ø²ÛŒ ØªÙ…ÙˆÙ… Ø´Ø¯.";
      attackBtn.disabled = true;
      restartBtn.style.display = 'inline-block';
      return true;
    } 
    if (computerHP <= 0) {
      computerHP = 0;
      message.textContent = "ØªØ¨Ø±ÛŒÚ©! ØªÙˆ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒ ðŸŽ‰";
      attackBtn.disabled = true;
      restartBtn.style.display = 'inline-block';
      return true;
    }
    return false;
  }

  function computerTurn() {
    setTimeout(() => {
      if (Math.random() > 0.3) {
        playerHP -= damage;
        if(playerHP < 0) playerHP = 0;
        message.textContent = "Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯!";
        updateHealth();
        if(!checkGameOver()) {
          attackBtn.disabled = false;
          message.textContent = "Ù†ÙˆØ¨Øª ØªÙˆØ³Øª. Ø­Ù…Ù„Ù‡ Ú©Ù†!";
        }
      } else {
        message.textContent = "Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ø§ÛŒÙ† Ø¨Ø§Ø± Ø­Ù…Ù„Ù‡ Ù†Ú©Ø±Ø¯.";
        attackBtn.disabled = false;
      }
    }, 1000);
  }

  attackBtn.addEventListener('click', () => {
    attackBtn.disabled = true;
    computerHP -= damage;
    if(computerHP < 0) computerHP = 0;
    message.textContent = "ØªÙˆ Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯ÛŒ!";
    updateHealth();

    if(!checkGameOver()) {
      computerTurn();
    }
  });

  restartBtn.addEventListener('click', () => {
    playerHP = playerMaxHP;
    computerHP = computerMaxHP;
    updateHealth();
    message.textContent = "Ø¨Ø§Ø²ÛŒ Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø´Ø±ÙˆØ¹ Ø´Ø¯. Ø­Ù…Ù„Ù‡ Ú©Ù†!";
    attackBtn.disabled = false;
    restartBtn.style.display = 'none';
  });

  // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
  updateHealth();
  message.textContent = "Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ! Ø­Ù…Ù„Ù‡ Ú©Ù†!";
</script>

</body>
</html>
